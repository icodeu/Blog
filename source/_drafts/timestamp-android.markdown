title: 聊聊貌似谁都懂的时间戳
date: 2016-02-27 15:04:44 
tags: Android
----

问下你自己，真的知道时间戳是什么吗？如果你知道的话，那知道怎么在程序中(如Java)获取时间戳吗，你获取到的是真的『时间戳』吗？

<!--more-->

其实我本身开始对时间戳的概念也很模糊，我就知道是从1970年1月1号到现在经历的时间，我以为这就够了，直到有个需求是关于事件统计的，所以必须要有时间的记录，我一看这个简单啊，不就是时间戳吗，所以在Java里获取时间戳很容易，一行代码搞定，如下

```java
	long curTime = System.currentTimeMillis();
```
我就把这个当成"时间戳"给后台了，然后PM直接提了个Bug给我，说我给的时间戳格式不对，原因是我获取的是13位的，他要的是10位的时间戳，然后我就上网查了一下关于时间戳的真正定义，如下

> 时间戳是指格林威治时间1970年01月01日00时00分00秒起至现在的总秒数。

注意最后是"秒数"，而我用 System.currentTimeMillis() 获取到的是"毫秒数"，所以是13位，然后我就 /1000 就变成了10位的"时间戳"。

好像这样时间戳的问题就解决了，不过注意上面一行最后我把"时间戳"三个字用引号引起来了，就是说 System.currentTimeMillis() /1000 获取到的还不是真正的时间戳！为什么呢，继续往下看。

测试找到我说，他看到的我传的时间戳用换算工具计算后并不是当时北京的真正时间，而是比当时北京的时间快了整整四个小时，我当时第一反应这肯定是时区问题，然后查了一下他手机的时区和北京的确实是相差了整整四个小时，后来就给他解释是时区问题，如果时区设置无误那就没问题了。

然后故事结束了吗，并没有，后来我就在想，时间戳真的和时区有关系吗？我又仔细读了一下关于时间戳的定义，要不你也来仔细品读一下：

>  时间戳是指格林威治时间1970年01月01日00时00分00秒起至现在的总秒数。

好好看『格林威治时间』，说白了，不管你身在哪里，处于哪个时区，在这个地球上的同一时刻时间戳一定是相同的，时间戳跟所谓的时区没有半毛钱关系！

所以说真正的时间戳和时区是没有关系的，同一时刻时间戳就是一个定值而不会受任何其他因素影响。那么在Java中怎么能获取当前准确的真正的时间戳呢？



### 个人GitHub:  [http://github.com/icodeu](http://github.com/icodeu)

### CSDN博客：[http://blog.csdn.net/icodeyou](http://blog.csdn.net/icodeyou)

### 个人微信号：`qqwanghuan`  技术交流

![image](http://7xivx9.com1.z0.glb.clouddn.com/wxqrcode_260.png)